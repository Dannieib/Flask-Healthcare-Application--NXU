services:
  - type: web
    runtime: python
    name: Flask-Healthcare-Application
    repo: https://github.com/Dannieib/Flask-Healthcare-Application--NXU
    numInstances: 1
    region: frankfurt
    plan: starter
    branch: main
    buildCommand: pip install -r requirements.txt
    preDeployCommand: python migrate.py
    startCommand: gunicorn -w 4 -b 0.0.0.0:5000 app:app
    autoDeploy: false
    maxShutdownDelaySeconds: 120
    domains:
    envVars:
      - key: FLASK_ENV
        value: production
      - key: SECRET_KEY
        generateValue: true
      - key: MINIO_PASSWORD
        fromService: # Reference a value from another service
          name: minio
          type: pserv
          envVarKey: MINIO_ROOT_PASSWORD
      - fromGroup: my-env-group # Add all variables from an environment group
